<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>

<a class="mode" href="javascript: localStorage.isDevMode ? delete localStorage.isDevMode : localStorage.isDevMode = true; location.reload();"></a>

<div data-el="app"></div>

<script>
(function(){

	var body = document.body;
	var script = document.createElement('script');

	var head = document.head || document.getElementsByTagName('head')[0];
	
	if(localStorage.getItem("isDevMode") == "true"){

		body.setAttribute('data-mode', 'development');

		require = {
			deps: ['app.start']
		};

		script.setAttribute('data-main', 'app.config');
		script.setAttribute('src', 'bower_components/requirejs/require.js');

	}else{

		body.setAttribute('data-mode', 'production');

		var link = document.createElement('link')
		link.setAttribute('media', 'screen');
		link.setAttribute('rel', 'stylesheet');
		link.setAttribute('href', 'app.min.css');
		head.appendChild(link);
		script.setAttribute('src', 'app.min.js');

	}

	// append requireJS and watch the magic happen...
	head.appendChild(script);

})();
</script>

</body>
</html>
